<!DOCTYPE html><html lang="ko" data-mode="dark" ><head><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="google-site-verification" content="XQcLXgbr-k2HybRscmwCYUkZmkKRCciCahgbEb9Hs7o" /><meta name="description" content="JavaScript의 실행과정"><meta property="og:title" content="JavaScript 코드의 실행과정"><meta property="og:description" content="JavaScript의 실행과정"><meta property="og:type" content="website"><meta property="og:url" content="https://limchaejune.github.io//posts/post5/"/><meta property="og:image" content="https://limchaejune.github.io//images/songyunseop.jpeg"/><meta property="og:image:width" content="420" /><meta property="og:image:height" content="420" /><meta property="og:image:type" content="image/png"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="JavaScript 코드의 실행과정" /><meta property="og:locale" content="ko" /><meta name="description" content="JavaScript의 실행과정" /><meta property="og:description" content="JavaScript의 실행과정" /><link rel="canonical" href="https://limchaejune.github.io//posts/post5/" /><meta property="og:url" content="https://limchaejune.github.io//posts/post5/" /><meta property="og:site_name" content="기록을 위한 블로그" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-04-21T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="JavaScript 코드의 실행과정" /><meta name="twitter:site" content="@LimChaeJune" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-04-21T00:00:00+09:00","datePublished":"2022-04-21T00:00:00+09:00","description":"JavaScript의 실행과정","headline":"JavaScript 코드의 실행과정","mainEntityOfPage":{"@type":"WebPage","@id":"https://limchaejune.github.io//posts/post5/"},"url":"https://limchaejune.github.io//posts/post5/"}</script><title>JavaScript 코드의 실행과정</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="기록을 위한 블로그"><meta name="application-name" content="기록을 위한 블로그"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/%ED%82%B9%EB%83%A5%EC%9D%B4.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">기록을 위한 블로그</a></div><div class="site-subtitle font-italic">CS, 개발, 취업 준비 등 여러가지를 공유하기 위한 블로그입니다!</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/LimChaeJune" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['cownsgg','outlook.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>JavaScript 코드의 실행과정</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>JavaScript 코드의 실행과정</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/LimChaeJune">LimChaeJune</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1650466800" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-04-21 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1560 words"> <em>8 min</em> read</span></div></div></div><div class="post-content"><h1 id="javascript의-실행과정">JavaScript의 실행과정</h1><ol><li><p>처음 브라우저에서 서버에서 클라이언트 코드를 요청하여 HTML 코드를 읽으며 <code class="language-plaintext highlighter-rouge">&lt;script&gt;</code> 태그를 이용한 JavaSript(편의상 JS) 코드와 <code class="language-plaintext highlighter-rouge">OnClick</code>과 같은 JS 코드가 포함된 속성들을 브라우저의 JS 엔진으로 보낸다.</p><li><p>JS는 스크립트를 실행하기 위해 실행 컨텍스트(Execution Context)를 생성한다.</p><li><p>JS는 단일 스레드의 특성 상 Execution Stack을 쌓게 된다. GEC(Global Execution Context)가 가장 먼저 쌓이고 그 후로 FEC(Funtion Execution Context)들이 쌓이게 된다.</p><li><p>Stack에 쌓인 실행 컨텍스트들이 실행 되고 Pop처리가 되고, 실행된 컨텍스트는 JS엔진에서 활성 실행 컨텍스트가 된다. —</p></ol><h2 id="execution-context-ec"><em>Execution Context</em> (EC) <a href="#execution-context-ec" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>실행 과정들을 과정을 정확히 이해하기 위해서는 Execution Context에 대한 설명이 필요하다.</p><p>EC는 scope, hoisting, this, closure 등의 동작 원리를 담고 있는 자바스크립트의 핵심 원리이다.</p><p>Execution Context는 세 가지 종류가 있다.</p><ul><li><p>Global Execution Context</p><li><p>Function Execution Context</p><li><p>Eval Execution Context (하지만 보안 문제로 인해 eval 코드를 절대 사용하지 말 것으로 권고하며, 설명에서도 넘어가도록 한다.)</p></ul><h2 id="global-execution-context-gec"><em>Global Execution Context (GEC)</em> <a href="#global-execution-context-gec" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>3번 과정에서 Stack을 쌓게될 때 가장 먼저 GEC를 쌓게 된다. 모든 JS 파일은 하나의 GEC만이 존재할 수 있으며, <code class="language-plaintext highlighter-rouge">함수 내부에 없는 전역으로 사용할 수 있는 JS 코드</code>가 실행되는 컨텍스트이다.</p><h2 id="function-execution-context-fec"><em>Function Execution Context (FEC)</em> <a href="#function-execution-context-fec" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>함수가 호출될 때 마다 JS 엔진이 GEC 내에서 FEC를 생성한다. 함수마다 고유한 FEC를 만들게 되며, 여러개의 FEC가 존재할 수 있다.</p><hr /><h2 id="execution-context의-생성-과정"><em>Execution Context의 생성 과정</em> <a href="#execution-context의-생성-과정" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>EC는 다음과 같은 과정으로 생성된다.</p><h2 id="생성-단계"><strong>생성 단계</strong> <a href="#생성-단계" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>EC는 생성 단계를 거치며 <code class="language-plaintext highlighter-rouge">Lexical Environment component</code>와 <code class="language-plaintext highlighter-rouge">VariableEnvrionment component</code>를 생성하게 된다.</p><h2 id="leximal-envrionment-le"><strong>Leximal Envrionment (LE)</strong> <a href="#leximal-envrionment-le" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>LE는 변수와 함수와 같은 실체 객체의 매핑을 보유하는 Component이다.</p><p>예를 들어 아래와 같은 코드가 있다면</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">example</span><span class="p">(){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">test</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><p>LE는 아래와 같은 형태로 만들어진다.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nx">LE</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">a</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
  <span class="na">b</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
  <span class="na">example</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">ref</span><span class="p">,</span> <span class="nx">to</span> <span class="nx">example</span> <span class="kd">function</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>또한, LE는 3가지의 구성요소를 가지고 있는데</p><p><strong>Environment Record</strong></p><p>변수 및 함수 선언이 LE 내부에 저장되는 곳이다.<br /> <code class="language-plaintext highlighter-rouge">Declartive Environment Record (변수 및 함수 선언을 저장하는 레코드)</code><br /> <code class="language-plaintext highlighter-rouge">Object Environment Record (브라우저의 창 객체를 저장하는 레코드)</code><br /> 이렇게 두가지의 레코드 구조를 가지고 있다.</p><p><strong>Reference to the outer environment</strong></p><p>이름에서 말하 듯이 외부 환경에 대한 참조이며, 외부 환경 내부의 변수를 찾을 수 있게한다.</p><p><strong>This Binidng</strong></p><p>우리가 익히 알고있는 this 속성이다. <br /> GEC에선 이건 통상 (window)를 뜻한다. 아래는 GEC의 this 호출과 FEC의 this 호출의 차이다.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">FEC</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">m</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
  <span class="na">n</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
  <span class="na">calc</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">m</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">n</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">FEC</span><span class="p">.</span><span class="nx">calc</span><span class="p">();</span> 
<span class="c1">// 50이 콘솔에 적히며, calc은 FEC 객체를 참조하기 때문에 this 함수로 FEC 내의 m과n을 참조하게 된다.</span>

<span class="kd">const</span> <span class="nx">GEC</span> <span class="o">=</span> <span class="nx">FEC</span><span class="p">.</span><span class="nx">calc</span><span class="p">;</span>
<span class="nx">GEC</span><span class="p">();</span> 
<span class="c1">// NaN이 출력되며 여기서 calc에서 this는 전역으로 적힌 m과 n을 찾게 되는데 선언된 변수가 없기 때문에 NaN이 출력되게 된다.</span>

</pre></table></code></div></div><h2 id="variable-environment-ve"><strong>Variable Environment (VE)</strong> <a href="#variable-environment-ve" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>위에서 정의한 Leximal Environment에서 기술한 구성요소를 모두 가지고 있으며, LE와의 차이점은 LE는 <code class="language-plaintext highlighter-rouge">함수 선언과 변수(let, Const)</code> 바인딩을 저장하고, VE는 <code class="language-plaintext highlighter-rouge">Var</code> 형식의 바인딩만을 저장하는데 사용된다.</p><h2 id="실행-단계"><em>실행 단계</em> <a href="#실행-단계" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>이 단계에서는 모든 변수에 대한 할당이 완료되고, 코드가 최종적으로 실행된다.</p><p>아래와 같은 JS가 작성되었을 때</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>  <span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">c</span><span class="p">;</span>

  <span class="kd">function</span> <span class="nx">multiple</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">g</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">e</span> <span class="o">*</span> <span class="nx">f</span> <span class="o">*</span> <span class="nx">g</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">c</span> <span class="o">=</span> <span class="nx">multiply</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">);</span>
</pre></table></code></div></div><p>GEC의 실행단계 까지 과정은 이렇다.</p><p><code class="language-plaintext highlighter-rouge">생성 단계</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre>  <span class="nx">GEC</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">LexicalEnvrionment</span><span class="p">:{</span>
      <span class="na">EnvironmentRecord</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">Type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Object</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">a</span><span class="p">:</span> <span class="nx">uninitalized</span><span class="p">,</span>
        <span class="na">b</span><span class="p">:</span> <span class="nx">uninitalized</span>
        <span class="na">multiply</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">func</span><span class="o">&gt;</span>
      <span class="p">},</span>
      <span class="na">outer</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="na">ThisBinding</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">Global</span> <span class="nb">Object</span><span class="o">&gt;</span>
    <span class="p">},</span>

    <span class="na">VariableEnvironment</span><span class="p">:{</span>
      <span class="na">EnvironmentRecord</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">Type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Object</span><span class="dl">"</span><span class="p">,</span>
        <span class="c1">// Identifier bindings go here</span>
        <span class="na">c</span><span class="p">:</span> <span class="kc">undefined</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="na">outer</span><span class="p">:</span> <span class="o">&lt;</span><span class="kc">null</span><span class="o">&gt;</span><span class="p">,</span>
      <span class="na">ThisBinding</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">Global</span> <span class="nb">Object</span><span class="o">&gt;</span>
    <span class="p">}</span>
  <span class="p">};</span> 
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">실행 단계</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="nx">GEC</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">LexicalEnvironment</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">EnvironmentRecord</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">Type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Object</span><span class="dl">"</span><span class="p">,</span>
        <span class="c1">// Identifier bindings go here</span>
        <span class="na">a</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
        <span class="na">b</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
        <span class="na">multiply</span><span class="p">:</span> <span class="o">&lt;</span> <span class="nx">func</span> <span class="o">&gt;</span>
      <span class="p">}</span>
      <span class="nl">outer</span><span class="p">:</span> <span class="o">&lt;</span><span class="kc">null</span><span class="o">&gt;</span><span class="p">,</span>
      <span class="na">ThisBinding</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">Global</span> <span class="nb">Object</span><span class="o">&gt;</span>
    <span class="p">},</span>
  <span class="na">VariableEnvironment</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">EnvironmentRecord</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">Type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Object</span><span class="dl">"</span><span class="p">,</span>
        <span class="c1">// Identifier bindings go here</span>
        <span class="na">c</span><span class="p">:</span> <span class="kc">undefined</span><span class="p">,</span>
      <span class="p">}</span>
      <span class="nl">outer</span><span class="p">:</span> <span class="o">&lt;</span><span class="kc">null</span><span class="o">&gt;</span><span class="p">,</span>
      <span class="na">ThisBinding</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">Global</span> <span class="nb">Object</span><span class="o">&gt;</span>
    <span class="p">}</span>
  <span class="p">}</span>

</pre></table></code></div></div><p>아래는 multiply 함수가 실행되며 만들어진 FEC의 실행과정이다.</p><p><code class="language-plaintext highlighter-rouge">생성 과정</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="nx">FunctionExectionContext</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">LexicalEnvironment</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">EnvironmentRecord</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">Type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Declarative</span><span class="dl">"</span><span class="p">,</span>
        <span class="c1">// Identifier bindings go here</span>
        <span class="na">Arguments</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="na">length</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
      <span class="p">},</span>
      <span class="na">outer</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">GlobalLexicalEnvironment</span><span class="o">&gt;</span><span class="p">,</span>
      <span class="na">ThisBinding</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">Global</span> <span class="nb">Object</span> <span class="nx">or</span> <span class="kc">undefined</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="na">VariableEnvironment</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">EnvironmentRecord</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">Type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Declarative</span><span class="dl">"</span><span class="p">,</span>
        <span class="c1">// Identifier bindings go here</span>
        <span class="na">g</span><span class="p">:</span> <span class="kc">undefined</span>
      <span class="p">},</span>
      <span class="na">outer</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">GlobalLexicalEnvironment</span><span class="o">&gt;</span><span class="p">,</span>
      <span class="na">ThisBinding</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">Global</span> <span class="nb">Object</span> <span class="nx">or</span> <span class="kc">undefined</span><span class="o">&gt;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">실행 과정</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="nx">FunctionExectionContext</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">LexicalEnvironment</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">EnvironmentRecord</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">Type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Declarative</span><span class="dl">"</span><span class="p">,</span>
        <span class="c1">// Identifier bindings go here</span>
        <span class="na">Arguments</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="na">length</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
      <span class="p">},</span>
      <span class="na">outer</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">GlobalLexicalEnvironment</span><span class="o">&gt;</span><span class="p">,</span>
      <span class="na">ThisBinding</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">Global</span> <span class="nb">Object</span> <span class="nx">or</span> <span class="kc">undefined</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="na">VariableEnvironment</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">EnvironmentRecord</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">Type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Declarative</span><span class="dl">"</span><span class="p">,</span>
        <span class="c1">// Identifier bindings go here</span>
        <span class="na">g</span><span class="p">:</span> <span class="mi">20</span>
      <span class="p">},</span>
      <span class="na">outer</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">GlobalLexicalEnvironment</span><span class="o">&gt;</span><span class="p">,</span>
      <span class="na">ThisBinding</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">Global</span> <span class="nb">Object</span> <span class="nx">or</span> <span class="kc">undefined</span><span class="o">&gt;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>함수가 완료된 후의 반환 값은 내부에 저장되게 된다. 따라서 GEC가 업데이트 된다.</p><h2 id="끝-맺으며">끝 맺으며 <a href="#끝-맺으며" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>오늘은 Javascript의 내부적인 동작 과정에 대해 기술했다.<br /> 모든 개념을 알아둘 필요는 없을 것 같지만, 전체적인 개념을 충분히 이해하면 Closer, Hoisting(let,const 등장 이후로 쓸일은 없지만…), Scope 등의 개념을 이해하기 훨씬 수월할 것 같다.</p></div><div class="post-tail-wrapper text-muted"> <script src="https://utteranc.es/client.js" repo="LimChaeJune/LimChaeJune.github.io" issue-term="pathname" theme="github-dark" crossorigin="anonymous" async> </script><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/web/'>Web</a>, <a href='/categories/javascript/'>JavaScript</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/javascript/" class="post-tag no-text-decoration" >javascript</a> <a href="/tags/execution-context/" class="post-tag no-text-decoration" >Execution Context</a> <a href="/tags/hoisting/" class="post-tag no-text-decoration" >hoisting</a> <a href="/tags/scope/" class="post-tag no-text-decoration" >scope</a> <a href="/tags/es6/" class="post-tag no-text-decoration" >es6</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=JavaScript 코드의 실행과정 - 기록을 위한 블로그&amp;url=https://limchaejune.github.io//posts/post5/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=JavaScript 코드의 실행과정 - 기록을 위한 블로그&amp;u=https://limchaejune.github.io//posts/post5/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://limchaejune.github.io//posts/post5/&amp;text=JavaScript 코드의 실행과정 - 기록을 위한 블로그" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/post34/">테스트 주도 개발 패턴</a><li><a href="/posts/post33/">2022년 회고</a><li><a href="/posts/post30/">Graph</a><li><a href="/posts/post32/">Atomic Design Pattern</a><li><a href="/posts/post31/">RxJS (feat.반응형 프로그래밍)</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/react/">React</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/blockchain/">BlockChain</a> <a class="post-tag" href="/tags/nextjs/">NextJS</a> <a class="post-tag" href="/tags/ethereum/">Ethereum</a> <a class="post-tag" href="/tags/typescript/">TypeScript</a> <a class="post-tag" href="/tags/bitcoin/">BitCoin</a> <a class="post-tag" href="/tags/nextjs/">NextJs</a> <a class="post-tag" href="/tags/solidity/">Solidity</a> <a class="post-tag" href="/tags/ssr/">SSR</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/post31/"><div class="card-body"> <em class="timeago small" data-ts="1668351600" > 2022-11-14 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>RxJS (feat.반응형 프로그래밍)</h3><div class="text-muted small"><p> RxJs 개요 RxJs의 용도는? 1 2 Think of RxJS as Lodash for events. (RxJs를 이벤트용 Lodash로 생각하라) 처음에 RxJs의 공식 문서를 살펴보면 이게 정확히 무슨 용도로 쓰이고 어떤 효용성이 있는지 파악하기 힘들다. 작성자도 같은 생각이었는지 위와 같이 설명한다. 내가 생각하는 RxJs의 용도...</p></div></div></a></div><div class="card"> <a href="/posts/post25/"><div class="card-body"> <em class="timeago small" data-ts="1659625200" > 2022-08-05 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>React에서 SSR (NextJS vs Gatsby)</h3><div class="text-muted small"><p> React SSR Gatsby와 NextJS를 비교하기 전에 왜 이런 프레임워크를 써야하는지 알 필요가 있다. React에서 CRA로 프로젝트를 생성하게되면 SPA 기반 라이브러리로 CSR을 사용해 개발을 하게 된다. CSR이 가지는 장점도 있겠지만, SEO와 초기 렌더링 문제 등 CSR의 한계로 인해 오늘 날은 CSR + SSR 형태로 많이 개발을...</p></div></div></a></div><div class="card"> <a href="/posts/post29/"><div class="card-body"> <em class="timeago small" data-ts="1661958000" > 2022-09-01 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>React에 StoryBook 셋업하기!</h3><div class="text-muted small"><p> Storybook install storybook 설치 1 npm i @storybook/react storybook init 1 npx storybook init Storybook setting stories/main.js 1 2 3 4 5 6 7 8 9 10 11 module.exports = { addons: [&quot;@storyb...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/post4/" class="btn btn-outline-primary" prompt="Older"><p>데이터 바인딩 (Data Binding)</p></a> <a href="/posts/post6/" class="btn btn-outline-primary" prompt="Newer"><p>블록체인이란?</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/LimChaeJune">LimChaeJune</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/react/">React</a> <a class="post-tag" href="/tags/web/">Web</a> <a class="post-tag" href="/tags/blockchain/">BlockChain</a> <a class="post-tag" href="/tags/nextjs/">NextJS</a> <a class="post-tag" href="/tags/ethereum/">Ethereum</a> <a class="post-tag" href="/tags/typescript/">TypeScript</a> <a class="post-tag" href="/tags/bitcoin/">BitCoin</a> <a class="post-tag" href="/tags/nextjs/">NextJs</a> <a class="post-tag" href="/tags/solidity/">Solidity</a> <a class="post-tag" href="/tags/ssr/">SSR</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script>
